<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="dodajWydatek.css">
    <script src="https://kit.fontawesome.com/7a6dd123f7.js" crossorigin="anonymous"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;500&family=Raleway:wght@300;600&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Homemade+Apple&family=Montserrat:wght@500&family=Raleway:wght@300;600&display=swap" rel="stylesheet">
    <title>Główna</title>
</head>
<body>
    <div class="bg">
        <img src="./images/kolo.png" alt="" class="bg_img_kolo">
        <img src="./images/kolo.png" alt="" class="bg_img_kolo2">
    </div>
    <div class="cos" id="header">
    <div id="container">
        <header>
            <h1>Portfelik</h1>
        </header>
       
    </div>
    <h2>Dodawanie i usuwanie z listy</h2>
</div>
<div class="wpisanie">
    <h3>Nazwa</h3>
     <form>
        <input type="text" name="text" id="nazwa"
        required>
        <!-- <button type="submit" class="btn-list">
            <i class="fa-solid fa-plus"></i>
        </button> -->
    </form>
    <h3>Data</h3>
    <form>
        <input type="date" name="dateValue" id="data"
        required>
        <!-- <button type="submit" class="btn-list">
            <i class="fa-solid fa-plus"></i>
        </button> -->
    </form>
    <h3>Kategoria</h3>
    <form>
        <input type="text" name="text" id="kategoria" 
        required>
        <!-- <button type="submit" class="btn-list">
            <i class="fa-solid fa-plus"></i>
        </button> -->
    </form>
    <h3>Kwota</h3>
    <form>
        <input type="text" name="text" id="kwota"
        required>
        <button type="submit" class="btn-list" onclick="addOnClick()">
            <i class="fa-solid fa-plus"></i>
        </button>
    </form>
</div>

<table class="table">
    <thead>
      <tr>
        <th>Nazwa</th>
        <th>Data</th>
        <th>Kategoria</th>
        <th>Kwota</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <!-- <td>1</td>
        <td>Domenic</td>
        <td>88,110</td>
        <td>dcode</td> -->
      </tr>
      <!-- <tr class="active-row">
        <td>2</td>
        <td>Sally</td>
        <td>72,400</td>
        <td>Students</td>
      </tr>
      <tr>
        <td>3</td>
        <td>Nick</td>
        <td>52,300</td>
        <td>dcode</td>
      </tr> -->
    </tbody>
  </table>
<div class="container">
    <ul> </ul>
</div>
        <div>
            <img src="./images/drzewko.png" alt="" class="img_tree">
        </div>
        <script>
            function addOnClick() {
            let nazwa = document.getElementById("nazwa").value;
   let data = document.getElementById("data").value;
   let kategoria = document.getElementById("kategoria").value;
   let kwota = document.getElementById("kwota").value;

   let table = document.querySelector('table tbody');
   let newRow = table.insertRow();

   let cell1 = newRow.insertCell();
   let cell2 = newRow.insertCell();
   let cell3 = newRow.insertCell();
   let cell4 = newRow.insertCell();

   cell1.innerHTML = nazwa;
   cell2.innerHTML = data;
   cell3.innerHTML = kategoria;
   cell4.innerHTML = kwota;

   document.getElementById("nazwa").value = "";
   document.getElementById("data").value = "";
   document.getElementById("kategoria").value = "";
   document.getElementById("kwota").value = "";
}
            const inputText = document.querySelector('#txt');
            const myButton = document.querySelector('.btn-list');
            const list = document.querySelector('.container ul');
            myButton.addEventListener('click', (e)=>{
                if(inputText.value != ""){
                    e.preventDefault();
                    const myLi = document.createElement('li');
                    myLi.innerHTML = inputText.value;
                    list.appendChild(myLi);
                    const mySpan = document.createElement('span');
                    mySpan.innerHTML = 'x';
                    myLi.appendChild(mySpan);
                }
                const close = document.querySelectorAll('span');
                for(let i = 0; i <close.length; i++){
                    close[i].addEventListener('click',()=>{
                        close[i].parentElement.style.opacity = 0;
                        setTimeout(()=>{
                            close[i].parentElement.style.display = "none";
                            close[i].parentElement.remove();
                        },500);
                        
                    })
                }
                inputText.value = "";
            })
            var expenditureData = [{
                nazwa:"paliwo",
                kategoria:"rachunki",
                data:"12-06-2023",
                kwota:20
            }]
            function displayTableData(){
                var html = "<table border='1|1' class='table'>"
                setTimeout(()=>{
                    html+="<thead>";
                    html+="<tr>";
                    html+="<td>";
                    html+="<td>" + 'SNo.'+"</td>";
                    html+="<td>" + 'Nazwa'+"</td>";
                    html+="<td>" + 'Data'+"</td>";   
                    html+="<td>" + 'Kategoria'+"</td>";
                    html+="<td>" + 'Kwota'+"</td>";
                    html+="<tr>";
                    html+="<thead>";
                    for (var i=0; i<expenditureData.length; i++)
                    {
                        var sno=i+1;
                        html+="<tr>";
                        html+="<td>" + sno +"</td>";
                        html+="<td>" + expenditureData[i].nazwa+"</td>";
                        html+="<td>" + expenditureData[i].data+"</td>";   
                        html+="<td>" + expenditureData[i].kategoria+"</td>";
                        html+="<td>" + expenditureData[i].kwota+"</td>";
                        html+="</tr>";
                    }
                    html+="</table>";
                    document.getElementById("table").innerHTML=html
                },200);
            }
            displayTableData();
            function addOnClick(){
                var nazwa = document.getElementById('nazwa').value;
                var kategoria = document.getElementById('kategoria').value;
                var data = document.getElementById('data').value;
                var kwota = document.getElementById('kwota').value;
        
                if(nazwa && kategoria && data && kwota){
                    let id = expenditureData.length + 1;
                    expenditureData.push({nazwa:nazwa, kategoria:kategoria, data:data, kwota:kwota})
                    displayTableData();
                }
           }

</script>
        
</body>
</html>
